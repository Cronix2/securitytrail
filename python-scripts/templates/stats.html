<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log Statistics - Subdomain finder</title>
    <link rel="icon" href="../static/icon/page.ico" type="image/x-icon">
    <link rel="stylesheet" href="../static/CSS/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.3.2/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="../static/CSS/stats.css">
</head>
<body>
    <header class="navbar">
        <div class="nav-container">
            <a href="/" class="logo">Subdomain Finder</a>
            <nav class="nav-menu">
                <ul>
                    <li><a href="/">Logs</a></li>
                    <li><a href="/history">History</a></li>
                    <li><a href="/stats">Statistics</a></li>
                    <li><a href="/settings">Settings</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <div class="info" id="infoBanner">
        <div class="info__icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path fill="#ffffff" d="m12 1.5c-5.79844 0-10.5 4.70156-10.5 10.5 0 5.7984 4.70156 10.5 10.5 10.5 5.7984 0 10.5-4.7016 10.5-10.5 0-5.79844-4.7016-10.5-10.5-10.5zm.75 15.5625c0 .1031-.0844.1875-.1875.1875h-1.125c-.1031 0-.1875-.0844-.1875-.1875v-6.375c0-.1031.0844-.1875.1875-.1875h1.125c.1031 0 .1875.0844.1875.1875zm-.75-8.0625c-.2944-.00601-.5747-.12718-.7808-.3375-.206-.21032-.3215-.49305-.3215-.7875s.1155-.57718.3215-.7875c.2061-.21032.4864-.33149.7808-.3375.2944.00601.5747.12718.7808.3375.206.21032.3215.49305.3215.7875s-.1155.57718-.3215.7875c-.2061.21032-.4864.33149-.7808.3375z"></path>
            </svg>
        </div>
        <div class="info__title">Les statistiques sont mises à jour chaque seconde</div>
        <div class="info__close" id="closeBanner">
            <svg height="20" width="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path d="m15.8333 5.34166-1.175-1.175-4.6583 4.65834-4.65833-4.65834-1.175 1.175 4.65833 4.65834-4.65833 4.6583 1.175 1.175 4.65833-4.6583 4.6583 4.6583 1.175-1.175-4.6583-4.6583z" fill="#ffffff"></path>
            </svg>
        </div>
    </div>
    <main class="container">
        <h1>Log Statistics</h1>
        <section class="stats-section">
            <div class="card">
                <div class="card-title">Logs per minute</div>
                <div class="card-value" id="logsPerMinute">0</div>
            </div>
            <div class="card">
                <div class="card-title">Total logs</div>
                <div class="card-value" id="totalLogs">0</div>
            </div>
        </section>
        <section class="chart-card">
            <div class="chart-header">
                <span class="time-scale" id="currentScale">Échelle : 1 Minute</span>
                <select id="scaleSelector" class="scale-selector">
                    <option value="logs_per_second">Par seconde</option>
                    <option value="logs_per_minute" selected>Par minute</option>
                    <option value="log_average_per_hour">Par heure</option>
                    <option value="log_average_per_day">Par jour</option>
                    <option value="log_average_per_week">Par semaine</option>
                    <option value="log_average_per_month">Par mois</option>
                </select>
            </div>
            <canvas id="logChart"></canvas>
        </section>
        <section class="health-card">
            <div id="healthStatus" class="health-container">
                <!-- Les services seront affichés ici dynamiquement -->
            </div>
        </section>
    </main>
    <script src="../static/JS/stats.js"></script>
</body>
</html>
